(this["webpackJsonpto-do-list-react"]=this["webpackJsonpto-do-list-react"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(19),o=n.n(a),s=(n(29),n(6)),i=n(23),l=n(3),u=(n(30),n(42)),d=n(39),j=n(22),b=n.p+"static/media/icon-sun.910b1f9a.svg",f=n.p+"static/media/icon-moon.6c03114b.svg",m=n(2),h=function(e){var t=e.theme,n=e.changeTheme;return Object(m.jsxs)("h1",{children:["TODO",Object(m.jsx)("img",{className:"app-theme light",src:"".concat(t&&t.dark?b:f),alt:"Sun icon to change app to light theme",onClick:function(){return n()}})]})},O=n.p+"static/media/icon-cross.6ee81d30.svg",g=function(e,t){var n=e.onClick;return Object(m.jsxs)("div",{className:"new",children:[Object(m.jsx)("span",{className:"circle"}),Object(m.jsx)("input",{type:"text",ref:t,className:"text",placeholder:"Create New Todo...",onKeyDown:function(e){return"Enter"===e.key&&n()}}),Object(m.jsx)("img",{className:"add",src:O,alt:"",onClick:n})]})},p=r.a.forwardRef(g),v=n(20),k=n.n(v),x=n(40),y=n(41),C="div",N=function(e){var t=e.id,n=e.index,r=e.moveCont,a=e.task,o=e.onDelete,s=e.onToggle,i=Object(c.useRef)(null),u=Object(x.a)({accept:C,collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){var c;if(i.current){var a=e.index,o=n;if(a!==o){var s=null===(c=i.current)||void 0===c?void 0:c.getBoundingClientRect(),l=(s.bottom-s.top)/2,u=t.getClientOffset().y-s.top;a<o&&u<l||a>o&&u>l||(r(a,o),e.index=o)}}}}),d=Object(l.a)(u,2),j=d[0].handlerId,b=d[1],f=Object(y.a)({type:C,item:function(){return{id:t,index:n}},collect:function(e){return{isDragging:e.isDragging()}}}),h=Object(l.a)(f,2),g=h[0].isDragging;return(0,h[1])(b(i)),Object(m.jsxs)("div",{className:"list",ref:i,"data-handler-id":j,style:{opacity:g?.4:1},children:[Object(m.jsx)("div",{className:"circle ".concat(a.complete&&"complete"),onClick:function(){return s(a.id)}}),Object(m.jsx)("span",{className:"task ".concat(a.complete?"strikethrough":""),children:a.item}),Object(m.jsx)("img",{className:"delete",src:O,alt:"",onClick:function(){return o(a.id)}})]})},w=function(e){var t=e.current,n=e.width,c=e.onCurrent,r=["all","active","completed"];return Object(m.jsx)("div",{className:"filter ".concat(n>=768&&"inside"),children:r.map((function(e){return Object(m.jsx)("span",{onClick:c,className:"".concat(e," ").concat(t===e?"current":""),children:(n=e,n[0].toUpperCase()+n.slice(1,n.length))},r.indexOf(e));var n}))})},S=function(e){var t=e.tasks,n=e.setTasks,r=e.current,a=e.width,o=e.onDelete,s=e.onToggle,i=e.onClear,u=e.onCurrent,d=Object(c.useState)(0),j=Object(l.a)(d,2),b=j[0],f=j[1];Object(c.useEffect)((function(){var e=t.reduce((function(e,t){return t.complete&&e++,e}),0);f("completed"===r?e:t.length-e)}),[r,t]);var h=Object(c.useCallback)((function(e,c){var r=t[e];n(k()(t,{$splice:[[e,1],[c,0,r]]}))}),[t]);return Object(m.jsxs)("main",{className:"lists",children:[t.map((function(e,t){return Object(m.jsx)(N,{index:t,id:e.id,task:e,onDelete:o,onToggle:s,moveCont:h},e.id)})),Object(m.jsxs)("div",{className:"last-row",children:[Object(m.jsx)("span",{className:"items",children:"all"!==r?0===b?"No ".concat(r," items"):"".concat(b," ").concat(r," item(s)"):"all"===r&&b>0?"".concat(b," item(s) left"):"No items left"}),a>=768&&Object(m.jsx)(w,{current:r,onCurrent:u,width:a}),Object(m.jsx)("button",{className:"clear",onClick:i,children:"Clear Completed"})]})]})},E=function(){return Object(m.jsxs)("footer",{className:"attribution",children:["Challenge by ",Object(m.jsx)("a",{href:"https://www.frontendmentor.io/challenges/todo-app-Su1_KokOW",target:"_blank",rel:"noreferrer",children:"Frontend Mentor"}),". Coded by ",Object(m.jsx)("a",{href:"https://github.com/hidayahmsabah/to-do-list-react",target:"_blank",rel:"noreferrer",children:"DayahMSab"}),"."]})};var D=function(){var e=Object(c.useState)([0,0]),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(c.useLayoutEffect)((function(){function e(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n};var T=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),o=Object(l.a)(a,2),b=o[0],f=o[1],O=Object(c.useState)([]),g=Object(l.a)(O,2),v=g[0],k=g[1],x=Object(c.useState)("all"),y=Object(l.a)(x,2),C=y[0],N=y[1],T=D(),F=Object(l.a)(T,1)[0],I=Object(c.useRef)(null),J="taskKey",P="themeKey",B=Object(c.useState)(function(){var e;return{dark:(null!==(e=JSON.parse(localStorage.getItem(P)))&&void 0!==e?e:{}).dark}}()),L=Object(l.a)(B,2),K=L[0],M=L[1];function R(e){N(e.target.className.split(" ")[0])}function _(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)if(!K||K.dark){for(var t=0,n=Object.keys(z);t<n.length;t++){var c=n[t];document.documentElement.style.setProperty("--".concat(c),z[c][0])}M(Object(s.a)(Object(s.a)({},K),{},{dark:!0}))}else{for(var r=0,a=Object.keys(z);r<a.length;r++){var o=a[r];document.documentElement.style.setProperty("--".concat(o),z[o][1])}M(Object(s.a)(Object(s.a)({},K),{},{dark:!1}))}else if(K&&K.dark){for(var i=0,l=Object.keys(z);i<l.length;i++){var u=l[i];document.documentElement.style.setProperty("--".concat(u),z[u][1])}M(Object(s.a)(Object(s.a)({},K),{},{dark:!1}))}else{for(var d=0,j=Object.keys(z);d<j.length;d++){var b=j[d];document.documentElement.style.setProperty("--".concat(b),z[b][0])}M(Object(s.a)(Object(s.a)({},K),{},{dark:!0}))}}Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem(J));e&&e.length>0&&r(e),_(!0)}),[]),Object(c.useEffect)((function(){localStorage.setItem(J,JSON.stringify(n)),f(n.filter((function(e){return e.complete}))),k(n.filter((function(e){return!e.complete})))}),[n]),Object(c.useEffect)((function(){localStorage.setItem(P,JSON.stringify(K)),console.log(K)}),[K]);var z={mainBackground:["hsl(235, 21%, 11%)","hsl(236, 33%, 92%)"],itemsBackground:["hsl(235, 24%, 19%)","hsl(0, 0%, 98%)"],firstFont:["hsl(236, 33%, 92%)","hsl(236, 33%, 92%)"],secondFont:["hsl(234, 11%, 52%)","hsl(236, 9%, 61%)"],thirdFont:["hsl(234, 39%, 85%)","hsl(235, 19%, 35%)"],fourthFont:["hsl(233, 14%, 35%)","hsl(233, 11%, 84%)"],border:["hsl(233, 14%, 35%)","hsl(236, 33%, 92%)"]};return Object(m.jsxs)(d.a,{backend:j.a,options:{enableMouseEvents:!0},children:[Object(m.jsx)("header",{className:"".concat(K&&K.dark?"dark":"")}),Object(m.jsx)(h,{theme:K,changeTheme:_}),Object(m.jsx)(p,{ref:I,onClick:function(){var e=I.current.value;e&&r((function(t){return[].concat(Object(i.a)(t),[{id:Object(u.a)(),item:e,complete:!1}])})),I.current.value=null}}),Object(m.jsx)(S,{width:F,tasks:"all"===C?n:"active"===C?v:b,setTasks:r,onDelete:function(e){r(n.filter((function(t){return t.id!==e})))},onToggle:function(e){r(n.map((function(t){return t.id===e?Object(s.a)(Object(s.a)({},t),{},{complete:!t.complete}):t})))},onClear:function(){r(n.filter((function(e){return!e.complete})))},onCurrent:R,current:C}),F<768&&Object(m.jsx)(w,{onCurrent:R,current:C}),Object(m.jsx)("p",{children:"Drag and drop to reorder list"}),Object(m.jsx)(E,{})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(T,{})}),document.getElementById("root")),F()}},[[33,1,2]]]);
//# sourceMappingURL=main.3fc10366.chunk.js.map